<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="SPIDAL Examples : Examples directory for SPIDAL applicatoins">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>SPIDAL Examples</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/DSC-SPIDAL/examples">View on GitHub</a>

          <h1 id="project_title">SPIDAL Examples</h1>
          <h2 id="project_tagline">Examples directory for SPIDAL applicatoins</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/DSC-SPIDAL/examples/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/DSC-SPIDAL/examples/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>This repository contains code, data, and scripts to setup and run some of the SPIDAL algorithms such as DA-MDS and DA-PWC in a cluster of nodes.</p>

<p>It could also be used to setup SPIDAL in a cloud environment such on Amazon EC2 or an OpenStack based cloud.</p>

<h2>
<a id="prerequisites" class="anchor" href="#prerequisites" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Prerequisites</h2>

<ol>
<li>A set of nodes with password-less SSH access between them.</li>
<li>Ubuntu - 16.04 or 14.04 is preferred.</li>
</ol>

<p>Also, this assumes root privileges to setup some of the libraries assuming the nodes are build from scratch. If this is not desired, plese have the following packages installed prior to setting up these examples.</p>

<ul>
<li>unzip</li>
<li>pdsh</li>
<li>build-essential</li>
</ul>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<ol>
<li>SSH to the first node of your node allocation.</li>
<li>
<p>One time setup (~20-25 min).</p>

<ul>
<li>Create a text file listing node IPs. Let's call this <code>nodes.txt</code>.</li>
<li>Download the <code>bootstrap.sh</code>.</li>
<li>
<pre><code>wget https://raw.githubusercontent.com/DSC-SPIDAL/examples/master/scripts/bootstrap.sh 
</code></pre>

<ul>
<li>
<p>Note, if <code>root</code> privileges are not available, comment out the following two lines from the <code>bootstrap.sh</code>.</p>

<pre><code>  sudo sed -i "1i 127.0.0.1 $HOSTNAME" /etc/hosts
  sudo bash -c 'echo ssh &gt; /etc/pdsh/rcmd_default'
</code></pre>
</li>
</ul>
</li>
<li>
<p>Execute the following commands.</p>

<pre><code>chmod +x bootstrap.sh
./bootstrap.sh nodes.txt
source ~/.bashrc
</code></pre>
</li>
</ul>
</li>
</ol>

<h2>
<a id="running-the-examples" class="anchor" href="#running-the-examples" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Running the Examples</h2>

<h3>
<a id="da-mds" class="anchor" href="#da-mds" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DA-MDS</h3>

<p>DA-MDS is a highly optimized Multidimensional Scaling (MDS) algorithm designed to run on large HPC clusters. See following resoruces for more details.</p>

<ul>
<li>
<a href="https://github.com/DSC-SPIDAL/damds">DA-MDS</a> project repository.</li>
<li>
<a href="https://www.researchgate.net/publication/291695433_SPIDAL_Java_High_Performance_Data_Analytics_with_Java_and_MPI_on_Large_Multicore_HPC_Clusters">SPIDAL Java</a> paper on optimizations.</li>
</ul>

<p>The data used in this example.</p>

<ul>
<li>5000 Nucleotide sequences

<ul>
<li>Distance between sequences were computed using parallel Smith-Waterman</li>
</ul>
</li>
<li>Grouped into 4 clusters (colors in the output)

<ul>
<li>Used <a href="https://github.com/DSC-SPIDAL/dapwc">DA-PWC</a> to perform clustering </li>
</ul>
</li>
<li>See example results <a href="https://spidal-gw.dsc.soic.indiana.edu/public/resultsets/1209626779">here</a>
</li>
</ul>

<p>The following command will start the DA-MDS example</p>

<pre><code>$HOME/spidal-examples/examples/damds/mmap.run.all.sh nodes.txt 2
</code></pre>

<p>Argument tot he program pare,</p>

<ul>
<li>
<code>nodes.txt</code> -- the text file containing the node IPs. Note. password-less SSH should be enabled.</li>
<li>2 -- The number of nodes in the nodes.txt.</li>
</ul>

<p>The output will be a .pviz in the <code>$HOME</code> directory. Upload the output to SPIDAL's <a href="https://spidal-gw.dsc.soic.indiana.edu/">WebPviz</a> to see the 3D points.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">SPIDAL Examples maintained by <a href="https://github.com/DSC-SPIDAL">DSC-SPIDAL</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
